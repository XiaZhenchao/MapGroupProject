{"ast":null,"code":"function corslite(url, callback, cors) {\n  var sent = false;\n  if (typeof window.XMLHttpRequest === 'undefined') {\n    return callback(Error('Browser not supported'));\n  }\n  if (typeof cors === 'undefined') {\n    var m = url.match(/^\\s*https?:\\/\\/[^\\/]*/);\n    cors = m && m[0] !== location.protocol + '//' + location.hostname + (location.port ? ':' + location.port : '');\n  }\n  var x = new window.XMLHttpRequest();\n  function isSuccessful(status) {\n    return status >= 200 && status < 300 || status === 304;\n  }\n  if (cors && !('withCredentials' in x)) {\n    // IE8-9\n    x = new window.XDomainRequest();\n\n    // Ensure callback is never called synchronously, i.e., before\n    // x.send() returns (this has been observed in the wild).\n    // See https://github.com/mapbox/mapbox.js/issues/472\n    var original = callback;\n    callback = function () {\n      if (sent) {\n        original.apply(this, arguments);\n      } else {\n        var that = this,\n          args = arguments;\n        setTimeout(function () {\n          original.apply(that, args);\n        }, 0);\n      }\n    };\n  }\n  function loaded() {\n    if (\n    // XDomainRequest\n    x.status === undefined ||\n    // modern browsers\n    isSuccessful(x.status)) callback.call(x, null, x);else callback.call(x, x, null);\n  }\n\n  // Both `onreadystatechange` and `onload` can fire. `onreadystatechange`\n  // has [been supported for longer](http://stackoverflow.com/a/9181508/229001).\n  if ('onload' in x) {\n    x.onload = loaded;\n  } else {\n    x.onreadystatechange = function readystate() {\n      if (x.readyState === 4) {\n        loaded();\n      }\n    };\n  }\n\n  // Call the callback with the XMLHttpRequest object as an error and prevent\n  // it from ever being called again by reassigning it to `noop`\n  x.onerror = function error(evt) {\n    // XDomainRequest provides no evt parameter\n    callback.call(this, evt || true, null);\n    callback = function () {};\n  };\n\n  // IE9 must have onprogress be set to a unique function.\n  x.onprogress = function () {};\n  x.ontimeout = function (evt) {\n    callback.call(this, evt, null);\n    callback = function () {};\n  };\n  x.onabort = function (evt) {\n    callback.call(this, evt, null);\n    callback = function () {};\n  };\n\n  // GET is the only supported HTTP Verb by XDomainRequest and is the\n  // only one supported here.\n  x.open('GET', url, true);\n\n  // Send the request. Sending data is not supported.\n  x.send(null);\n  sent = true;\n  return x;\n}\nif (typeof module !== 'undefined') module.exports = corslite;","map":{"version":3,"names":["corslite","url","callback","cors","sent","window","XMLHttpRequest","Error","m","match","location","protocol","hostname","port","x","isSuccessful","status","XDomainRequest","original","apply","arguments","that","args","setTimeout","loaded","undefined","call","onload","onreadystatechange","readystate","readyState","onerror","error","evt","onprogress","ontimeout","onabort","open","send","module","exports"],"sources":["C:/Users/haosh/Desktop/CSE416 projec/MapGroupProject/node_modules/corslite/corslite.js"],"sourcesContent":["function corslite(url, callback, cors) {\r\n    var sent = false;\r\n\r\n    if (typeof window.XMLHttpRequest === 'undefined') {\r\n        return callback(Error('Browser not supported'));\r\n    }\r\n\r\n    if (typeof cors === 'undefined') {\r\n        var m = url.match(/^\\s*https?:\\/\\/[^\\/]*/);\r\n        cors = m && (m[0] !== location.protocol + '//' + location.hostname +\r\n                (location.port ? ':' + location.port : ''));\r\n    }\r\n\r\n    var x = new window.XMLHttpRequest();\r\n\r\n    function isSuccessful(status) {\r\n        return status >= 200 && status < 300 || status === 304;\r\n    }\r\n\r\n    if (cors && !('withCredentials' in x)) {\r\n        // IE8-9\r\n        x = new window.XDomainRequest();\r\n\r\n        // Ensure callback is never called synchronously, i.e., before\r\n        // x.send() returns (this has been observed in the wild).\r\n        // See https://github.com/mapbox/mapbox.js/issues/472\r\n        var original = callback;\r\n        callback = function() {\r\n            if (sent) {\r\n                original.apply(this, arguments);\r\n            } else {\r\n                var that = this, args = arguments;\r\n                setTimeout(function() {\r\n                    original.apply(that, args);\r\n                }, 0);\r\n            }\r\n        }\r\n    }\r\n\r\n    function loaded() {\r\n        if (\r\n            // XDomainRequest\r\n            x.status === undefined ||\r\n            // modern browsers\r\n            isSuccessful(x.status)) callback.call(x, null, x);\r\n        else callback.call(x, x, null);\r\n    }\r\n\r\n    // Both `onreadystatechange` and `onload` can fire. `onreadystatechange`\r\n    // has [been supported for longer](http://stackoverflow.com/a/9181508/229001).\r\n    if ('onload' in x) {\r\n        x.onload = loaded;\r\n    } else {\r\n        x.onreadystatechange = function readystate() {\r\n            if (x.readyState === 4) {\r\n                loaded();\r\n            }\r\n        };\r\n    }\r\n\r\n    // Call the callback with the XMLHttpRequest object as an error and prevent\r\n    // it from ever being called again by reassigning it to `noop`\r\n    x.onerror = function error(evt) {\r\n        // XDomainRequest provides no evt parameter\r\n        callback.call(this, evt || true, null);\r\n        callback = function() { };\r\n    };\r\n\r\n    // IE9 must have onprogress be set to a unique function.\r\n    x.onprogress = function() { };\r\n\r\n    x.ontimeout = function(evt) {\r\n        callback.call(this, evt, null);\r\n        callback = function() { };\r\n    };\r\n\r\n    x.onabort = function(evt) {\r\n        callback.call(this, evt, null);\r\n        callback = function() { };\r\n    };\r\n\r\n    // GET is the only supported HTTP Verb by XDomainRequest and is the\r\n    // only one supported here.\r\n    x.open('GET', url, true);\r\n\r\n    // Send the request. Sending data is not supported.\r\n    x.send(null);\r\n    sent = true;\r\n\r\n    return x;\r\n}\r\n\r\nif (typeof module !== 'undefined') module.exports = corslite;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}