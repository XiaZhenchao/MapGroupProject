{"ast":null,"code":"var _jsxFileName = \"/Users/wenjunfan/MapGroupProject/src/App.js\";\nimport 'leaflet/dist/leaflet.css'; // Import Leaflet CSS\nimport 'leaflet-omnivore'; // Import Leaflet Omnivore\nimport L from 'leaflet'; // Import Leaflet\nimport React from 'react';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleSelectFileButton = () => {\n      const fileInput = document.getElementById('fileInput');\n      fileInput.click();\n    };\n    this.handleFileInputChange = () => {\n      const fileInput = document.getElementById('fileInput');\n      const selectedFile = fileInput.files[0];\n\n      // if (selectedFile) {\n      //     const fileName = selectedFile.name;\n      //     const fileExtension = fileName.split('.').pop().toLowerCase();\n\n      //     if (fileExtension === 'shp' || fileExtension === 'json' || fileExtension === 'kml') {\n      //         this.setState({ selectedFile });\n      //         const uploadButton = document.getElementById('Select-File-Button');\n      //         uploadButton.disabled = true;\n      //     } else {\n      //         alert('Please select a valid SHP, GeoJSON, or KML file.');\n      //     }\n      // }\n      if (selectedFile) {\n        const fileName = selectedFile.name;\n        const fileExtension = fileName.split('.').pop().toLowerCase();\n        if (fileExtension === 'shp') {\n          this.setState({\n            selectedFile\n          });\n          const uploadButton = document.getElementById('Select-File-Button');\n          uploadButton.disabled = true;\n\n          // Load and display the map when the file extension is \"shp\"\n          this.loadShpMap(selectedFile);\n        } else if (fileExtension === 'json') {\n          // Handle GeoJSON case\n        } else if (fileExtension === 'kml') {\n          // Handle KML case\n        } else {\n          alert('Please select a valid SHP, GeoJSON, or KML file.');\n        }\n      } else {\n        this.setState({\n          selectedFile: null\n        });\n        const uploadButton = document.getElementById('Select-File-Button');\n        uploadButton.disabled = false;\n      }\n    };\n    this.handleCancelClick = () => {\n      const fileInput = document.getElementById('fileInput');\n      fileInput.value = '';\n      this.handleFileInputChange();\n    };\n    // loadShpMap = (shpFile) => {\n    //     // Create a Leaflet map\n    //     const map = L.map('Container').setView([0, 0], 10); // Set initial view\n    //     L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n    //         attribution: '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors',\n    //     }).addTo(map);\n    //     // You can use libraries like leaflet-omnivore to load Shapefiles\n    //     // For example, you can use omnivore to load a Shapefile\n    //     L.leafletOmnivore.shp(shpFile).addTo(map);\n    // };\n    this.loadShpMap = shpFile => {\n      try {\n        // Create a Leaflet map\n        const map = L.map('Container').setView([0, 0], 10); // Set initial view\n        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n          attribution: '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\n        }).addTo(map);\n\n        // You can use libraries like leaflet-omnivore to load Shapefiles\n        // For example, you can use omnivore to load a Shapefile\n        L.leafletOmnivore.shp(shpFile).on('ready', () => {\n          // Shapefile loaded successfully\n          // You can add additional logic here if needed\n        }).addTo(map);\n      } catch (error) {\n        // Handle any errors that occur during map loading\n        console.error('Error loading SHP file:', error);\n        // You can display an error message to the user or take other actions as needed\n      }\n    };\n    this.state = {\n      selectedFile: null\n    };\n  }\n  render() {\n    // let Map;\n    // if (this.state.selectedFile) {\n    //     const fileName = selectedFile.name;\n    //     const fileExtension = fileName.split('.').pop().toLowerCase();\n    //     if (fileExtension === 'shp') {\n    //         Map = (\n    //             <div>\n    //                 {/* You can customize the map container, map settings, and styles here */}\n    //                 <div id=\"shpMap\" style={{ width: '100%', height: '400px' }}></div>\n    //             </div>\n    //         );\n    //     } else if(fileExtension === 'json'){\n    //         Map = \n    //     }\n    //     else if(fileExtension === 'kml'){\n    //         Map = \n    //     }\n    //     else{\n    //         Map = \"\"\n    //     }\n    // }\n    // else{\n    //     Map = \"\"\n    // }\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"root\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"TitleBox\",\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Map\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        id: \"fileInput\",\n        style: {\n          display: 'none'\n        },\n        accept: \".shp, .json, .kml\",\n        onChange: this.handleFileInputChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        id: \"Select-File-Button\",\n        onClick: this.handleSelectFileButton,\n        disabled: !!this.state.selectedFile,\n        children: \"Select File\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 17\n      }, this), this.state.selectedFile && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Selected File: \", this.state.selectedFile.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: this.handleCancelClick,\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"Container\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 13\n    }, this);\n  }\n}\nexport default App;","map":{"version":3,"names":["L","React","jsxDEV","_jsxDEV","App","Component","constructor","props","handleSelectFileButton","fileInput","document","getElementById","click","handleFileInputChange","selectedFile","files","fileName","name","fileExtension","split","pop","toLowerCase","setState","uploadButton","disabled","loadShpMap","alert","handleCancelClick","value","shpFile","map","setView","tileLayer","attribution","addTo","leafletOmnivore","shp","on","error","console","state","render","id","children","_jsxFileName","lineNumber","columnNumber","type","style","display","accept","onChange","onClick"],"sources":["/Users/wenjunfan/MapGroupProject/src/App.js"],"sourcesContent":["import 'leaflet/dist/leaflet.css'; // Import Leaflet CSS\nimport 'leaflet-omnivore'; // Import Leaflet Omnivore\nimport L from 'leaflet'; // Import Leaflet\nimport React from 'react';\nimport './App.css';\nclass App extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            selectedFile: null,\n        };\n    }\n\n    handleSelectFileButton = () => {\n        const fileInput = document.getElementById('fileInput');\n        fileInput.click();\n    };\n\n    handleFileInputChange = () => {\n        const fileInput = document.getElementById('fileInput');\n        const selectedFile = fileInput.files[0];\n\n        // if (selectedFile) {\n        //     const fileName = selectedFile.name;\n        //     const fileExtension = fileName.split('.').pop().toLowerCase();\n\n        //     if (fileExtension === 'shp' || fileExtension === 'json' || fileExtension === 'kml') {\n        //         this.setState({ selectedFile });\n        //         const uploadButton = document.getElementById('Select-File-Button');\n        //         uploadButton.disabled = true;\n        //     } else {\n        //         alert('Please select a valid SHP, GeoJSON, or KML file.');\n        //     }\n        // }\n        if (selectedFile) {\n            const fileName = selectedFile.name;\n            const fileExtension = fileName.split('.').pop().toLowerCase();\n\n            if (fileExtension === 'shp') {\n                this.setState({ selectedFile });\n                const uploadButton = document.getElementById('Select-File-Button');\n                uploadButton.disabled = true;\n                \n                // Load and display the map when the file extension is \"shp\"\n                this.loadShpMap(selectedFile);\n            } else if (fileExtension === 'json') {\n                // Handle GeoJSON case\n            } else if (fileExtension === 'kml') {\n                // Handle KML case\n            } else {\n                alert('Please select a valid SHP, GeoJSON, or KML file.');\n            }\n        } else {\n            this.setState({ selectedFile: null });\n            const uploadButton = document.getElementById('Select-File-Button');\n            uploadButton.disabled = false;\n        }\n    };\n\n    handleCancelClick = () => {\n        const fileInput = document.getElementById('fileInput');\n        fileInput.value = '';\n        this.handleFileInputChange();\n    };\n\n    // loadShpMap = (shpFile) => {\n    //     // Create a Leaflet map\n    //     const map = L.map('Container').setView([0, 0], 10); // Set initial view\n    //     L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n    //         attribution: '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors',\n    //     }).addTo(map);\n\n    //     // You can use libraries like leaflet-omnivore to load Shapefiles\n    //     // For example, you can use omnivore to load a Shapefile\n    //     L.leafletOmnivore.shp(shpFile).addTo(map);\n    // };\n\n    loadShpMap = (shpFile) => {\n        try {\n            // Create a Leaflet map\n            const map = L.map('Container').setView([0, 0], 10); // Set initial view\n            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n                attribution: '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors',\n            }).addTo(map);\n    \n            // You can use libraries like leaflet-omnivore to load Shapefiles\n            // For example, you can use omnivore to load a Shapefile\n            L.leafletOmnivore\n                .shp(shpFile)\n                .on('ready', () => {\n                    // Shapefile loaded successfully\n                    // You can add additional logic here if needed\n                })\n                .addTo(map);\n        } catch (error) {\n            // Handle any errors that occur during map loading\n            console.error('Error loading SHP file:', error);\n            // You can display an error message to the user or take other actions as needed\n        }\n    };\n    \n    render() {\n        // let Map;\n        // if (this.state.selectedFile) {\n        //     const fileName = selectedFile.name;\n        //     const fileExtension = fileName.split('.').pop().toLowerCase();\n        //     if (fileExtension === 'shp') {\n        //         Map = (\n        //             <div>\n        //                 {/* You can customize the map container, map settings, and styles here */}\n        //                 <div id=\"shpMap\" style={{ width: '100%', height: '400px' }}></div>\n        //             </div>\n        //         );\n        //     } else if(fileExtension === 'json'){\n        //         Map = \n        //     }\n        //     else if(fileExtension === 'kml'){\n        //         Map = \n        //     }\n        //     else{\n        //         Map = \"\"\n        //     }\n        // }\n        // else{\n        //     Map = \"\"\n        // }\n        return (\n            <div id=\"root\">\n                <div id=\"TitleBox\">\n                    <h1>Map</h1>\n                </div>\n                <input\n                    type=\"file\"\n                    id=\"fileInput\"\n                    style={{ display: 'none' }}\n                    accept=\".shp, .json, .kml\"\n                    onChange={this.handleFileInputChange}\n                />\n                <button\n                    id=\"Select-File-Button\"\n                    onClick={this.handleSelectFileButton}\n                    disabled={!!this.state.selectedFile}\n                >\n                    Select File\n                </button>\n                {this.state.selectedFile && (\n                    <div>\n                        <p>Selected File: {this.state.selectedFile.name}</p>\n                        <button onClick={this.handleCancelClick}>Cancel</button>\n                    </div>\n                )}\n                <div id=\"Container\" ></div>\n            </div>\n        );\n    }\n    \n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}