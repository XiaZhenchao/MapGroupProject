{"ast":null,"code":"import slice from \"slice-source\";\nimport dbf_cancel from \"./cancel\";\nimport dbf_read from \"./read\";\nimport view from \"../view\";\nexport default function (source, decoder) {\n  source = slice(source);\n  return source.slice(32).then(function (array) {\n    var head = view(array);\n    return source.slice(head.getUint16(8, true) - 32).then(function (array) {\n      return new Dbf(source, decoder, head, view(array));\n    });\n  });\n}\nfunction Dbf(source, decoder, head, body) {\n  this._source = source;\n  this._decode = decoder.decode.bind(decoder);\n  this._recordLength = head.getUint16(10, true);\n  this._fields = [];\n  for (var n = 0; body.getUint8(n) !== 0x0d; n += 32) {\n    for (var j = 0; j < 11; ++j) if (body.getUint8(n + j) === 0) break;\n    this._fields.push({\n      name: this._decode(new Uint8Array(body.buffer, body.byteOffset + n, j)),\n      type: String.fromCharCode(body.getUint8(n + 11)),\n      length: body.getUint8(n + 16)\n    });\n  }\n}\nvar prototype = Dbf.prototype;\nprototype.read = dbf_read;\nprototype.cancel = dbf_cancel;","map":{"version":3,"names":["slice","dbf_cancel","dbf_read","view","source","decoder","then","array","head","getUint16","Dbf","body","_source","_decode","decode","bind","_recordLength","_fields","n","getUint8","j","push","name","Uint8Array","buffer","byteOffset","type","String","fromCharCode","length","prototype","read","cancel"],"sources":["/Users/zhenchaoxia/Desktop/WORK/Stony Brook/Fall 2023/CSE416/Group/MapGroupProject/node_modules/shapefile/dbf/index.js"],"sourcesContent":["import slice from \"slice-source\";\nimport dbf_cancel from \"./cancel\";\nimport dbf_read from \"./read\";\nimport view from \"../view\";\n\nexport default function(source, decoder) {\n  source = slice(source);\n  return source.slice(32).then(function(array) {\n    var head = view(array);\n    return source.slice(head.getUint16(8, true) - 32).then(function(array) {\n      return new Dbf(source, decoder, head, view(array));\n    });\n  });\n}\n\nfunction Dbf(source, decoder, head, body) {\n  this._source = source;\n  this._decode = decoder.decode.bind(decoder);\n  this._recordLength = head.getUint16(10, true);\n  this._fields = [];\n  for (var n = 0; body.getUint8(n) !== 0x0d; n += 32) {\n    for (var j = 0; j < 11; ++j) if (body.getUint8(n + j) === 0) break;\n    this._fields.push({\n      name: this._decode(new Uint8Array(body.buffer, body.byteOffset + n, j)),\n      type: String.fromCharCode(body.getUint8(n + 11)),\n      length: body.getUint8(n + 16)\n    });\n  }\n}\n\nvar prototype = Dbf.prototype;\nprototype.read = dbf_read;\nprototype.cancel = dbf_cancel;\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,cAAc;AAChC,OAAOC,UAAU,MAAM,UAAU;AACjC,OAAOC,QAAQ,MAAM,QAAQ;AAC7B,OAAOC,IAAI,MAAM,SAAS;AAE1B,eAAe,UAASC,MAAM,EAAEC,OAAO,EAAE;EACvCD,MAAM,GAAGJ,KAAK,CAACI,MAAM,CAAC;EACtB,OAAOA,MAAM,CAACJ,KAAK,CAAC,EAAE,CAAC,CAACM,IAAI,CAAC,UAASC,KAAK,EAAE;IAC3C,IAAIC,IAAI,GAAGL,IAAI,CAACI,KAAK,CAAC;IACtB,OAAOH,MAAM,CAACJ,KAAK,CAACQ,IAAI,CAACC,SAAS,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,CAAC,CAACH,IAAI,CAAC,UAASC,KAAK,EAAE;MACrE,OAAO,IAAIG,GAAG,CAACN,MAAM,EAAEC,OAAO,EAAEG,IAAI,EAAEL,IAAI,CAACI,KAAK,CAAC,CAAC;IACpD,CAAC,CAAC;EACJ,CAAC,CAAC;AACJ;AAEA,SAASG,GAAGA,CAACN,MAAM,EAAEC,OAAO,EAAEG,IAAI,EAAEG,IAAI,EAAE;EACxC,IAAI,CAACC,OAAO,GAAGR,MAAM;EACrB,IAAI,CAACS,OAAO,GAAGR,OAAO,CAACS,MAAM,CAACC,IAAI,CAACV,OAAO,CAAC;EAC3C,IAAI,CAACW,aAAa,GAAGR,IAAI,CAACC,SAAS,CAAC,EAAE,EAAE,IAAI,CAAC;EAC7C,IAAI,CAACQ,OAAO,GAAG,EAAE;EACjB,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEP,IAAI,CAACQ,QAAQ,CAACD,CAAC,CAAC,KAAK,IAAI,EAAEA,CAAC,IAAI,EAAE,EAAE;IAClD,KAAK,IAAIE,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,EAAE,EAAE,EAAEA,CAAC,EAAE,IAAIT,IAAI,CAACQ,QAAQ,CAACD,CAAC,GAAGE,CAAC,CAAC,KAAK,CAAC,EAAE;IAC7D,IAAI,CAACH,OAAO,CAACI,IAAI,CAAC;MAChBC,IAAI,EAAE,IAAI,CAACT,OAAO,CAAC,IAAIU,UAAU,CAACZ,IAAI,CAACa,MAAM,EAAEb,IAAI,CAACc,UAAU,GAAGP,CAAC,EAAEE,CAAC,CAAC,CAAC;MACvEM,IAAI,EAAEC,MAAM,CAACC,YAAY,CAACjB,IAAI,CAACQ,QAAQ,CAACD,CAAC,GAAG,EAAE,CAAC,CAAC;MAChDW,MAAM,EAAElB,IAAI,CAACQ,QAAQ,CAACD,CAAC,GAAG,EAAE;IAC9B,CAAC,CAAC;EACJ;AACF;AAEA,IAAIY,SAAS,GAAGpB,GAAG,CAACoB,SAAS;AAC7BA,SAAS,CAACC,IAAI,GAAG7B,QAAQ;AACzB4B,SAAS,CAACE,MAAM,GAAG/B,UAAU"},"metadata":{},"sourceType":"module"}