{"ast":null,"code":"'use strict';\n\nconst fallback = require('./binaryajax-browser');\nconst combine = require('./combine');\nconst Buffer = require('buffer').Buffer;\nmodule.exports = async function binaryAjax(_url, type) {\n  if (!global.fetch) {\n    return fallback(_url, type);\n  }\n  const url = combine(_url, type);\n  const isOptionalTxt = type === 'prj' || type === 'cpg';\n  try {\n    const resp = await fetch(url);\n    if (resp.status > 399) {\n      throw new Error(resp.statusText);\n    }\n    if (isOptionalTxt) {\n      return resp.text();\n    }\n    const parsed = await resp.arrayBuffer();\n    return Buffer.from(parsed);\n  } catch (e) {\n    console.log('ERROR', e, type);\n    if (isOptionalTxt || type === 'dbf') {\n      return false;\n    }\n    throw e;\n  }\n};","map":{"version":3,"names":["fallback","require","combine","Buffer","module","exports","binaryAjax","_url","type","global","fetch","url","isOptionalTxt","resp","status","Error","statusText","text","parsed","arrayBuffer","from","e","console","log"],"sources":["C:/Users/haosh/desktop/CSE416 projec/MapGroupProject/node_modules/shpjs/lib/binaryajax-fetch.js"],"sourcesContent":["'use strict';\nconst fallback = require('./binaryajax-browser');\nconst combine = require('./combine');\nconst Buffer = require('buffer').Buffer;\nmodule.exports = async function binaryAjax (_url, type) {\n  if (!global.fetch) {\n    return fallback(_url, type);\n  }\n  const url = combine(_url, type);\n  const isOptionalTxt = type === 'prj' || type === 'cpg';\n  try {\n    const resp = await fetch(url);\n    if (resp.status > 399) {\n      throw new Error(resp.statusText);\n    }\n    if (isOptionalTxt) {\n      return resp.text();\n    }\n    const parsed = await resp.arrayBuffer();\n    return Buffer.from(parsed);\n  } catch (e) {\n    console.log('ERROR', e, type);\n    if (isOptionalTxt || type === 'dbf') {\n      return false;\n    }\n    throw e;\n  }\n};\n"],"mappings":"AAAA,YAAY;;AACZ,MAAMA,QAAQ,GAAGC,OAAO,CAAC,sBAAsB,CAAC;AAChD,MAAMC,OAAO,GAAGD,OAAO,CAAC,WAAW,CAAC;AACpC,MAAME,MAAM,GAAGF,OAAO,CAAC,QAAQ,CAAC,CAACE,MAAM;AACvCC,MAAM,CAACC,OAAO,GAAG,eAAeC,UAAUA,CAAEC,IAAI,EAAEC,IAAI,EAAE;EACtD,IAAI,CAACC,MAAM,CAACC,KAAK,EAAE;IACjB,OAAOV,QAAQ,CAACO,IAAI,EAAEC,IAAI,CAAC;EAC7B;EACA,MAAMG,GAAG,GAAGT,OAAO,CAACK,IAAI,EAAEC,IAAI,CAAC;EAC/B,MAAMI,aAAa,GAAGJ,IAAI,KAAK,KAAK,IAAIA,IAAI,KAAK,KAAK;EACtD,IAAI;IACF,MAAMK,IAAI,GAAG,MAAMH,KAAK,CAACC,GAAG,CAAC;IAC7B,IAAIE,IAAI,CAACC,MAAM,GAAG,GAAG,EAAE;MACrB,MAAM,IAAIC,KAAK,CAACF,IAAI,CAACG,UAAU,CAAC;IAClC;IACA,IAAIJ,aAAa,EAAE;MACjB,OAAOC,IAAI,CAACI,IAAI,CAAC,CAAC;IACpB;IACA,MAAMC,MAAM,GAAG,MAAML,IAAI,CAACM,WAAW,CAAC,CAAC;IACvC,OAAOhB,MAAM,CAACiB,IAAI,CAACF,MAAM,CAAC;EAC5B,CAAC,CAAC,OAAOG,CAAC,EAAE;IACVC,OAAO,CAACC,GAAG,CAAC,OAAO,EAAEF,CAAC,EAAEb,IAAI,CAAC;IAC7B,IAAII,aAAa,IAAIJ,IAAI,KAAK,KAAK,EAAE;MACnC,OAAO,KAAK;IACd;IACA,MAAMa,CAAC;EACT;AACF,CAAC"},"metadata":{},"sourceType":"script"}