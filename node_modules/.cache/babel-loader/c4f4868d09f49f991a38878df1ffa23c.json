{"ast":null,"code":"var fieldSize = require('./fieldsize');\nvar types = {\n  string: 'C',\n  number: 'N',\n  boolean: 'L',\n  // type to use if all values of a field are null\n  null: 'C'\n};\nmodule.exports.multi = multi;\nmodule.exports.bytesPer = bytesPer;\nmodule.exports.obj = obj;\nfunction multi(features) {\n  var fields = {};\n  features.forEach(collect);\n  function collect(f) {\n    inherit(fields, f);\n  }\n  return obj(fields);\n}\n\n/**\r\n * @param {Object} a\r\n * @param {Object} b\r\n * @returns {Object}\r\n */\nfunction inherit(a, b) {\n  for (var i in b) {\n    var isDef = typeof b[i] !== 'undefined' && b[i] !== null;\n    if (typeof a[i] === 'undefined' || isDef) {\n      a[i] = b[i];\n    }\n  }\n  return a;\n}\nfunction obj(_) {\n  var fields = {},\n    o = [];\n  for (var p in _) fields[p] = _[p] === null ? 'null' : typeof _[p];\n  for (var n in fields) {\n    var t = types[fields[n]];\n    if (t) {\n      o.push({\n        name: n,\n        type: t,\n        size: fieldSize[t]\n      });\n    }\n  }\n  return o;\n}\n\n/**\r\n * @param {Array} fields\r\n * @returns {Array}\r\n */\nfunction bytesPer(fields) {\n  // deleted flag\n  return fields.reduce(function (memo, f) {\n    return memo + f.size;\n  }, 1);\n}","map":{"version":3,"names":["fieldSize","require","types","string","number","boolean","null","module","exports","multi","bytesPer","obj","features","fields","forEach","collect","f","inherit","a","b","i","isDef","_","o","p","n","t","push","name","type","size","reduce","memo"],"sources":["C:/Users/haosh/desktop/CSE416 projec/MapGroupProject/node_modules/dbf/src/fields.js"],"sourcesContent":["var fieldSize = require('./fieldsize');\r\n\r\nvar types = {\r\n    string: 'C',\r\n    number: 'N',\r\n    boolean: 'L',\r\n    // type to use if all values of a field are null\r\n    null: 'C'\r\n};\r\n\r\nmodule.exports.multi = multi;\r\nmodule.exports.bytesPer = bytesPer;\r\nmodule.exports.obj = obj;\r\n\r\nfunction multi(features) {\r\n    var fields = {};\r\n    features.forEach(collect);\r\n    function collect(f) { inherit(fields, f); }\r\n    return obj(fields);\r\n}\r\n\r\n/**\r\n * @param {Object} a\r\n * @param {Object} b\r\n * @returns {Object}\r\n */\r\nfunction inherit(a, b) {\r\n    for (var i in b) {\r\n        var isDef = typeof b[i] !== 'undefined' && b[i] !== null;\r\n        if (typeof a[i] === 'undefined' || isDef) {\r\n          a[i] = b[i];\r\n        }\r\n    }\r\n    return a;\r\n}\r\n\r\nfunction obj(_) {\r\n    var fields = {}, o = [];\r\n    for (var p in _) fields[p] = _[p] === null ? 'null' : typeof _[p];\r\n    for (var n in fields) {\r\n        var t = types[fields[n]];\r\n        if(t){\r\n             o.push({\r\n                name: n,\r\n                type: t,\r\n                size: fieldSize[t]\r\n            });\r\n        }\r\n    }\r\n    return o;\r\n}\r\n\r\n/**\r\n * @param {Array} fields\r\n * @returns {Array}\r\n */\r\nfunction bytesPer(fields) {\r\n    // deleted flag\r\n    return fields.reduce(function(memo, f) { return memo + f.size; }, 1);\r\n}\r\n"],"mappings":"AAAA,IAAIA,SAAS,GAAGC,OAAO,CAAC,aAAa,CAAC;AAEtC,IAAIC,KAAK,GAAG;EACRC,MAAM,EAAE,GAAG;EACXC,MAAM,EAAE,GAAG;EACXC,OAAO,EAAE,GAAG;EACZ;EACAC,IAAI,EAAE;AACV,CAAC;AAEDC,MAAM,CAACC,OAAO,CAACC,KAAK,GAAGA,KAAK;AAC5BF,MAAM,CAACC,OAAO,CAACE,QAAQ,GAAGA,QAAQ;AAClCH,MAAM,CAACC,OAAO,CAACG,GAAG,GAAGA,GAAG;AAExB,SAASF,KAAKA,CAACG,QAAQ,EAAE;EACrB,IAAIC,MAAM,GAAG,CAAC,CAAC;EACfD,QAAQ,CAACE,OAAO,CAACC,OAAO,CAAC;EACzB,SAASA,OAAOA,CAACC,CAAC,EAAE;IAAEC,OAAO,CAACJ,MAAM,EAAEG,CAAC,CAAC;EAAE;EAC1C,OAAOL,GAAG,CAACE,MAAM,CAAC;AACtB;;AAEA;AACA;AACA;AACA;AACA;AACA,SAASI,OAAOA,CAACC,CAAC,EAAEC,CAAC,EAAE;EACnB,KAAK,IAAIC,CAAC,IAAID,CAAC,EAAE;IACb,IAAIE,KAAK,GAAG,OAAOF,CAAC,CAACC,CAAC,CAAC,KAAK,WAAW,IAAID,CAAC,CAACC,CAAC,CAAC,KAAK,IAAI;IACxD,IAAI,OAAOF,CAAC,CAACE,CAAC,CAAC,KAAK,WAAW,IAAIC,KAAK,EAAE;MACxCH,CAAC,CAACE,CAAC,CAAC,GAAGD,CAAC,CAACC,CAAC,CAAC;IACb;EACJ;EACA,OAAOF,CAAC;AACZ;AAEA,SAASP,GAAGA,CAACW,CAAC,EAAE;EACZ,IAAIT,MAAM,GAAG,CAAC,CAAC;IAAEU,CAAC,GAAG,EAAE;EACvB,KAAK,IAAIC,CAAC,IAAIF,CAAC,EAAET,MAAM,CAACW,CAAC,CAAC,GAAGF,CAAC,CAACE,CAAC,CAAC,KAAK,IAAI,GAAG,MAAM,GAAG,OAAOF,CAAC,CAACE,CAAC,CAAC;EACjE,KAAK,IAAIC,CAAC,IAAIZ,MAAM,EAAE;IAClB,IAAIa,CAAC,GAAGxB,KAAK,CAACW,MAAM,CAACY,CAAC,CAAC,CAAC;IACxB,IAAGC,CAAC,EAAC;MACAH,CAAC,CAACI,IAAI,CAAC;QACJC,IAAI,EAAEH,CAAC;QACPI,IAAI,EAAEH,CAAC;QACPI,IAAI,EAAE9B,SAAS,CAAC0B,CAAC;MACrB,CAAC,CAAC;IACN;EACJ;EACA,OAAOH,CAAC;AACZ;;AAEA;AACA;AACA;AACA;AACA,SAASb,QAAQA,CAACG,MAAM,EAAE;EACtB;EACA,OAAOA,MAAM,CAACkB,MAAM,CAAC,UAASC,IAAI,EAAEhB,CAAC,EAAE;IAAE,OAAOgB,IAAI,GAAGhB,CAAC,CAACc,IAAI;EAAE,CAAC,EAAE,CAAC,CAAC;AACxE"},"metadata":{},"sourceType":"script"}