{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\haosh\\\\Desktop\\\\CSE416 projec\\\\MapGroupProject\\\\src\\\\App.js\";\nimport 'leaflet/dist/leaflet.css'; // Import Leaflet CSS\nimport 'leaflet-omnivore'; // Import Leaflet Omnivore\nimport L from 'leaflet'; // Import Leaflet\nimport React from 'react';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleSelectFileButton = () => {\n      const fileInput = document.getElementById('fileInput');\n      fileInput.click();\n    };\n    this.handleFileInputChange = () => {\n      const fileInput = document.getElementById('fileInput');\n      const selectedFile = fileInput.files[0];\n      if (selectedFile) {\n        const fileName = selectedFile.name;\n        const fileExtension = fileName.split('.').pop().toLowerCase();\n        if (fileExtension === 'shp') {\n          this.setState({\n            selectedFile\n          });\n          const uploadButton = document.getElementById('Select-File-Button');\n          uploadButton.disabled = true;\n          this.loadMap(selectedFile);\n        } else if (fileExtension === 'json') {\n          this.setState({\n            selectedFile\n          });\n          const uploadButton = document.getElementById('Select-File-Button');\n          uploadButton.disabled = true;\n          this.loadMap(selectedFile);\n        } else if (fileExtension === 'kml') {\n          this.setState({\n            selectedFile\n          });\n          const uploadButton = document.getElementById('Select-File-Button');\n          uploadButton.disabled = true;\n          this.loadMap(selectedFile);\n        } else {\n          alert('Please select a valid SHP, GeoJSON, or KML file.');\n        }\n      } else {\n        this.setState({\n          selectedFile: null\n        });\n        const uploadButton = document.getElementById('Select-File-Button');\n        uploadButton.disabled = false;\n      }\n    };\n    this.handleCancelClick = () => {\n      const fileInput = document.getElementById('fileInput');\n      fileInput.value = '';\n      const container = document.getElementById('Container');\n      container.innerHTML = '';\n      if (this.state.map) {\n        this.state.map.remove(); // Remove the old map\n        this.setState({\n          map: null\n        });\n      }\n      this.handleFileInputChange();\n    };\n    this.loadMap = shpFile => {\n      try {\n        // Create a Leaflet map\n        const map = L.map('Container').setView([0, 0], 10); // Set initial view\n        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n          attribution: '&copy; < a href=\" \">OpenStreetMap</ a> contributors'\n        }).addTo(map);\n\n        // Load GeoJSON data onto the map\n        const geoJSONLayer = L.geoJSON(this.state.selectedFile, {\n          style: function (feature) {\n            return {\n              //fillColor: getColorBasedOnData(feature.properties), // Define your own color function\n              weight: 2,\n              // Border weight\n              opacity: 1,\n              // Border opacity\n              color: 'white',\n              // Border color\n              fillOpacity: 0.6 // Fill opacity\n            };\n          },\n\n          onEachFeature: function (feature, layer) {\n            const labelText = feature.properties.label; // Adjust this to access your data attribute\n            layer.bindTooltip(labelText, {\n              permanent: true,\n              direction: 'center'\n            });\n          }\n        });\n\n        // Add the GeoJSON layer to the map\n        geoJSONLayer.addTo(map);\n\n        // Store the new map instance in the component state\n        this.setState({\n          map: map\n        });\n      } catch (error) {\n        console.error('Error handle loading SHP file:', error);\n      }\n    };\n    this.state = {\n      selectedFile: null,\n      map: null\n    };\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"root\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"TitleBox\",\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Map\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        id: \"fileInput\",\n        style: {\n          display: 'none'\n        },\n        accept: \".shp, .json, .kml\",\n        onChange: this.handleFileInputChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        id: \"Select-File-Button\",\n        onClick: this.handleSelectFileButton,\n        disabled: !!this.state.selectedFile,\n        children: \"Select File\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 17\n      }, this), this.state.selectedFile && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Selected File: \", this.state.selectedFile.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: this.handleCancelClick,\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"Container\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }, this);\n  }\n}\nexport default App;","map":{"version":3,"names":["L","React","jsxDEV","_jsxDEV","App","Component","constructor","props","handleSelectFileButton","fileInput","document","getElementById","click","handleFileInputChange","selectedFile","files","fileName","name","fileExtension","split","pop","toLowerCase","setState","uploadButton","disabled","loadMap","alert","handleCancelClick","value","container","innerHTML","state","map","remove","shpFile","setView","tileLayer","attribution","addTo","geoJSONLayer","geoJSON","style","feature","weight","opacity","color","fillOpacity","onEachFeature","layer","labelText","properties","label","bindTooltip","permanent","direction","error","console","render","id","children","_jsxFileName","lineNumber","columnNumber","type","display","accept","onChange","onClick"],"sources":["C:/Users/haosh/Desktop/CSE416 projec/MapGroupProject/src/App.js"],"sourcesContent":["import 'leaflet/dist/leaflet.css'; // Import Leaflet CSS\r\nimport 'leaflet-omnivore'; // Import Leaflet Omnivore\r\nimport L from 'leaflet'; // Import Leaflet\r\nimport React from 'react';\r\nimport './App.css';\r\nclass App extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            selectedFile: null,\r\n            map: null,\r\n        };\r\n    }\r\n\r\n    handleSelectFileButton = () => {\r\n        const fileInput = document.getElementById('fileInput');\r\n        fileInput.click();\r\n    };\r\n\r\n    handleFileInputChange = () => {\r\n        const fileInput = document.getElementById('fileInput');\r\n        const selectedFile = fileInput.files[0];\r\n        if (selectedFile) {\r\n            const fileName = selectedFile.name;\r\n            const fileExtension = fileName.split('.').pop().toLowerCase();\r\n\r\n            if (fileExtension === 'shp') {\r\n                this.setState({ selectedFile });\r\n                const uploadButton = document.getElementById('Select-File-Button');\r\n                uploadButton.disabled = true;\r\n                this.loadMap(selectedFile);\r\n            } else if (fileExtension === 'json') {\r\n                this.setState({ selectedFile });\r\n                const uploadButton = document.getElementById('Select-File-Button');\r\n                uploadButton.disabled = true;\r\n                this.loadMap(selectedFile);\r\n            } else if (fileExtension === 'kml') {\r\n                this.setState({ selectedFile });\r\n                const uploadButton = document.getElementById('Select-File-Button');\r\n                uploadButton.disabled = true;\r\n                this.loadMap(selectedFile);\r\n            } else {\r\n                alert('Please select a valid SHP, GeoJSON, or KML file.');\r\n            }\r\n        } else {\r\n            this.setState({ selectedFile: null });\r\n            const uploadButton = document.getElementById('Select-File-Button');\r\n            uploadButton.disabled = false;\r\n        }\r\n    };\r\n\r\n    handleCancelClick = () => {\r\n        const fileInput = document.getElementById('fileInput');\r\n        fileInput.value = '';\r\n        const container = document.getElementById('Container');\r\n        container.innerHTML = '';\r\n        \r\n        if(this.state.map){\r\n            this.state.map.remove(); // Remove the old map\r\n            this.setState({ map: null });\r\n        }\r\n        \r\n        this.handleFileInputChange();\r\n    };\r\n\r\n    loadMap = (shpFile) => {\r\n        try {\r\n            // Create a Leaflet map\r\n            const map = L.map('Container').setView([0, 0], 10); // Set initial view\r\n            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\r\n                attribution: '&copy; < a href=\" \">OpenStreetMap</ a> contributors',\r\n            }).addTo(map);\r\n\r\n            // Load GeoJSON data onto the map\r\n            const geoJSONLayer = L.geoJSON(this.state.selectedFile, {\r\n                style: function (feature) {\r\n                    return {\r\n                        //fillColor: getColorBasedOnData(feature.properties), // Define your own color function\r\n                        weight: 2, // Border weight\r\n                        opacity: 1, // Border opacity\r\n                        color: 'white', // Border color\r\n                        fillOpacity: 0.6, // Fill opacity\r\n                    };\r\n                },\r\n                onEachFeature: function (feature, layer) {\r\n                    const labelText = feature.properties.label; // Adjust this to access your data attribute\r\n                    layer.bindTooltip(labelText, { permanent: true, direction: 'center' });\r\n                },\r\n            });\r\n\r\n        // Add the GeoJSON layer to the map\r\n            geoJSONLayer.addTo(map);\r\n\r\n            // Store the new map instance in the component state\r\n            this.setState({ map: map });\r\n        } catch (error) {\r\n            console.error('Error handle loading SHP file:', error);\r\n        }\r\n        \r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <div id=\"root\">\r\n                <div id=\"TitleBox\">\r\n                    <h1>Map</h1>\r\n                </div>\r\n                <input\r\n                    type=\"file\"\r\n                    id=\"fileInput\"\r\n                    style={{ display: 'none' }}\r\n                    accept=\".shp, .json, .kml\"\r\n                    onChange={this.handleFileInputChange}\r\n                />\r\n                <button\r\n                    id=\"Select-File-Button\"\r\n                    onClick={this.handleSelectFileButton}\r\n                    disabled={!!this.state.selectedFile}\r\n                >\r\n                    Select File\r\n                </button>\r\n                {this.state.selectedFile && (\r\n                    <div>\r\n                        <p>Selected File: {this.state.selectedFile.name}</p >\r\n                        <button onClick={this.handleCancelClick}>Cancel</button>\r\n                    </div>\r\n                )}\r\n                <div id=\"Container\" ></div>\r\n            </div>\r\n        );\r\n    }\r\n    \r\n}\r\n\r\nexport default App;"],"mappings":"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"},"metadata":{},"sourceType":"module"}